<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>城域大脑</title>
		<link rel="stylesheet" href="font/iconfont.css" />
		<link rel="stylesheet" href="css/bootstrap.min.css" />
		<!--<link rel="stylesheet" href="css/swiper-3.4.2.min.css" />-->
		<link rel="stylesheet" type="text/css" href="css/style.css"/>
		<script src="js/jquery-1.9.1.min.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			$(document).ready(function(){
				$("#header").load("pages/header.html");
			})
		</script>
	</head>
	<body class="body">
		<div class="content">
		<!--<div id="header"></div>-->
		<div class="header">
			<div class="logo"><img src="images/logo02.png"/></div>
			<ul class="menu clearfix">
			<li class="index">
			    <a href="index.html" class="one">城域战图</a>
			</li>
			<li class="board">
			    <a href="region.html" class="one">城域看板</a>
			</li>
			<li class="living live">
			    <a href="safety.html" class="oneMenu">
			        城域事件 <!--<i class="iconfont icon-htmal5icon03"></i>-->
			    </a>
			    <!--<ul class="sub-menu">
			        <li>
			            <a href="safety.html">城域事件-安全</a>
			        </li>
			        <li>
			            <a href="javascript:;">城域事件-环境</a>
			        </li>
			        <li>
			            <a href="javascript:;">城域事件-服务</a>
			        </li>-->
			    <!--</ul>-->
			</li>
			<li class="brain">
			    <a href="cityHead.html"  class="one">城域大脑</a>
			</li>
			<li class="living Plus">
			    <a href="javascript:;" class="oneMenu">城域+ <i class="iconfont icon-htmal5icon03"></i></a>
		    	<ul class="sub-menu">
			        <li>
			            <a href="cityPlus.html">城域+服务</a>
			        </li>
			        <li>
			            <a href="cityPlusPart.html">城域+党建</a>
			        </li>
		
		    	</ul>
			</li>
			</ul>
			<div class="time">2018年04月03日  星期二</div>
		</div>
			<!--section部分-->
			<div class="section cityHead clearfix">
				<div class="divleft fl clearfix">
					<div class="leftTop fl">
						<div class="title">治理情况
							<div class="right">当年</div>
						</div>
						<div class="dropLi">
							<ul class="menu clearfix">
								<li class="firstLi threeLi light" id="menu">设备部署<i class="iconfont icon-htmal5icon03"></i></li>
								<ul class="sub-menu" id="sub-menu">
									<li><a class="submenuLi" id="safe">安全类</a></li>
									<li><a class="submenuLi" id="environment">环境类</a></li>
									<li><a class="submenuLi" id="space">空间类</a></li>
								</ul>
								<li class="threeLi" id="clickPart2">大事记</li>
								<li class="threeLi" id="clickPart3">成效分析</li>
							</ul>
						</div>
						<div class="title1"><i class="iconfont icon-leikexueyiqix"></i>&nbsp;安全类</div>
						<div id="part1">
							<div>
								<div class="yangan eightPartLeft">
									<div class="pic2"><i class="iconfont icon-yanjizaoju" id="pic1"></i></div>
									<div class="text2">
										<table class="table2" id="tablePic1">
											<tr class="titleFlag">
												<td>烟感</td>
											</tr>
											<tr>
												<td>1000个</td>
											</tr>
											<tr>
												<td>设备正常率</td>
											</tr>
											<tr>
												<td>98%</td>
											</tr>
										</table>
									</div>
								</div>
								<div class="renlian eightPartRight">
									<div class="pic2"><i class="iconfont icon-renlianshibie" id="pic2"></i></div>
									<div class="text2">
										<table class="table2" id="tablePic2">
											<tr class="titleFlag">
												<td>人脸识别</td>
											</tr>
											<tr>
												<td>1000个</td>
											</tr>
											<tr>
												<td>设备正常率</td>
											</tr>
											<tr>
												<td>98%</td>
											</tr>
										</table>
									</div>
								</div>
							</div>
							<div>
								<div class="jinggai eightPartLeft">
									<div class="pic2"><i class="iconfont icon-manhole-cover" id="pic3"></i></div>
									<div class="text2">
										<table class="table2" id="tablePic3">
											<tr class="titleFlag">
												<td>井盖</td>
											</tr>
											<tr>
												<td>1000个</td>
											</tr>
											<tr>
												<td>设备正常率</td>
											</tr>
											<tr>
												<td>98%</td>
											</tr>
										</table>
									</div>
								</div>
								<div class="xiaofang eightPartRight">
									<div class="pic2"><i class="iconfont icon-jingwuicon_svg-" id="pic4"></i></div>
									<div class="text2">
										<table class="table2" id="tablePic4">
											<tr class="titleFlag">
												<td>消防栓</td>
											</tr>
											<tr>
												<td>1000个</td>
											</tr>
											<tr>
												<td>设备正常率</td>
											</tr>
											<tr>
												<td>98%</td>
											</tr>
										</table>
									</div>
								</div>
							</div>
							<div class="cutPic">
								<div class="gaokong eightPartLeft">
									<div class="pic2"><i class="iconfont icon-shiping-xue" id="pic5"></i></div>
									<div class="text2">
										<table class="table2" id="tablePic5">
											<tr class="titleFlag">
												<td>高空摄像头</td>
											</tr>
											<tr>
												<td>1000个</td>
											</tr>
											<tr>
												<td>设备正常率</td>
											</tr>
											<tr>
												<td>98%</td>
											</tr>
										</table>
									</div>
								</div>
								<div class="miehu eightPartRight">
									<div class="pic2"><i class="iconfont icon-miehuoqiextinguisher" id="pic6"></i></div>
									<div class="text2">
										<table class="table2" id="tablePic6">
											<tr class="titleFlag">
												<td>灭弧监测</td>
											</tr>
											<tr>
												<td>1000个</td>
											</tr>
											<tr>
												<td>设备正常率</td>
											</tr>
											<tr>
												<td>98%</td>
											</tr>
										</table>
									</div>
								</div>
							</div>
							<div class="cutPic">
								<div class="dici eightPartLeft">
									<div class="pic2"><i class="iconfont icon-dengjuanzhuang" id="pic7"></i></div>
									<div class="text2">
										<table class="table2" id="tablePic7">
											<tr class="titleFlag">
												<td>地磁</td>
											</tr>
											<tr>
												<td>1000个</td>
											</tr>
											<tr>
												<td>设备正常率</td>
											</tr>
											<tr>
												<td>98%</td>
											</tr>
										</table>
									</div>
								</div>
								<div class="hongwai eightPartRight">
									<div class="pic2"><i class="iconfont icon-leidatance" id="pic8"></i></div>
									<div class="text2">
										<table class="table2" id="tablePic8">
											<tr class="titleFlag">
												<td>红外探测器</td>
											</tr>
											<tr>
												<td>1000个</td>
											</tr>
											<tr>
												<td>设备正常率</td>
											</tr>
											<tr>
												<td>98%</td>
											</tr>
										</table>
									</div>
								</div>
							</div>
						</div>
						<div id="part2">
							<div class="threePart">
								<div class="part1" id="partTop">
									<div class="top">
										<div class="iconBorder"><i class="iconfont icon-gaojing"></i></div>
										<div class="topText">消防地磁设备8:34:01发生了第2次告警，持续30分钟<i class="iconfont icon-shipintianchong"></i></div>
									</div>
									<div class="bottom">
										<table class="bottomTable">
											<tr>
												<td>上报时间：2018/04/11&nbsp;08:16</td>
											</tr>
											<tr>
												<td>事件位置：小区15号楼消防通道</td>
											</tr>
											<tr>
												<td>事件类型：消防占道</td>
											</tr>
											<tr>
												<td>处理状态：待人工处理</td>
											</tr>
										</table>
										<div class="button">处理中&nbsp;已告知物业</div>
									</div>
								</div>
								<div class="part1" id="partMiddle">
									<div class="top">
										<div class="iconBorder"><i class="iconfont icon-gaojing "></i></div>
										<div class="topText">摄像头捕获30分钟内23号单元楼15层发生2次高空抛物<i class="iconfont icon-shipintianchong two"></i></div>
									</div>
									<div class="bottom">
										<table class="bottomTable">
											<tr>
												<td>上报时间：2018/04/11&nbsp;8:30</td>
											</tr>
											<tr>
												<td>事件位置：23号单元楼15层</td>
											</tr>
											<tr>
												<td>事件类型：高空抛物</td>
											</tr>
											<tr>
												<td>处理状态：人工处理中</td>
											</tr>
										</table>
										<div class="button">处理中&nbsp;已告知物业</div>
									</div>
								</div>
								<div class="part1" id="partBottom">
									<div class="top">
										<div class="iconBorder"><i class="iconfont icon-gaojing "></i></div>
										<div class="topText">1小时内摄像头捕捉1人多次在小区各单元楼出现并逗留<i class="iconfont icon-shipintianchong three"></i></div>
									</div>
									<div class="bottom">
										<table class="bottomTable">
											<tr>
												<td>上报时间：2018/04/11&nbsp;8:32</td>
											</tr>
											<tr>
												<td>事件位置：全小区</td>
											</tr>
											<tr>
												<td>事件类型：可疑人员追踪</td>
											</tr>
											<tr>
												<td>处理状态：处理完成</td>
											</tr>
										</table>
										<div class="button">处理中&nbsp;已告知物业</div>
									</div>
								</div>
							</div>
						</div>
						<div id="part3">
							<div class="partOne">
								<div class="partOneChart partOneChartLeft">
									<div id="partChart" style="width: 250px;height: 200px;"></div>
								</div>
								<div class="partOneChart">
									<div class="top">
										<div class="num">80%</div><i class="iconfont icon-jiantouarrow505"></i>
									</div>
									<div class="text">重大安全事件</div>
								</div>
							</div>
							<div class="partOne partTwo">
								<div class="partOneChart partTwoChart"><img class="picture" src="./images/cityHead/picture2.png"></div>
								<div class="partOneChart partTwoChart"><img class="picture" src="./images/cityHead/picture1.png"></div>
								<div>
									<table class="chartTitle">
										<tr>
											<td>上线前</td>
											<td>上线后</td>
										</tr>
									</table>
								</div>
							</div>
							<div class="partOne" style="padding: 10px;">
								<div id="partOneCharts" style="width:550px;height:220px;"></div>
							</div>
						</div>
					</div>
					<div class="rightTop fr">
						<div class="top">
							<div class="titleTop">决策分析</div>
							<div class="charts">
								<div class="title"><i class="iconfont icon-leikexueyiqix"></i>&nbsp;2018年安全问题占比</div>
								<div id="linebarChart"></div>
								<div>
									<div id="barChart1"></div>
									<div id="pieChart1"></div>
								</div>
							</div>
						</div>
						<div class="bottom">
							<div class="titleTop1"><i class="iconfont icon-leikexueyiqix"></i>&nbsp;2018年安全问题分析</div>
							<div class="left">
								<div class="title">主要类型</div>
								<div class="threePart">
									<div class="highDrop">
										<div class="pic1"><i class="iconfont icon-gaokongpaowu" id="pic9"></i></div>
										<div class="text1" id="text9">高空抛物</div>
									</div>
									<div class="doorOpen">
										<div class="pic1"><i class="iconfont icon-menjin" id="pic10"></i></div>
										<div class="text1" id="text10">门禁开启</div>
									</div>
									<div class="fireWay">
										<div class="pic1"><i class="iconfont icon-jingwuicon_svg-" id="pic11"></i></div>
										<div class="text1" id="text11">消防占道</div>
									</div>
								</div>
								<div class="title">主要发生时段</div>
								<div>
									<div class="timePic"><img src="images/cityHead/time.png"/></div>
									<div class="timeTable">
										<table class="table1">
											<tr>
												<td id="time1">晚上22:00至凌晨2:00</td>
											</tr>
											<tr>
												<td id="time2">中午12:00至14:00</td>
											</tr>
										</table>
									</div>
								</div>
							</div>
							<div class="right">
								<div class="top">
									<div class="title1"><i class="iconfont icon-weichuli"></i>&nbsp;&nbsp;&nbsp;问题原因分析</div>
									<div class="dataTables_wrapper scroll active" role="grid">
										<table class="table-striped table-condensed pre-scrollable table1">
											<tbody id="cause">
											</tbody>
										</table>
									</div>
								</div>
								<div class="bottom">
									<div class="title1"><i class="iconfont icon-guizeguanli"></i>&nbsp;&nbsp;&nbsp;措施与机制</div>
									<div class="dataTables_wrapper scroll active" role="grid">
										<table class="table-striped table-condensed pre-scrollable table1">
											<tbody id="measure">
											</tbody>
										</table>
									</div>
<!--
									<table class="table1">
										<tr>
											<td>1、在小区大屏上提醒居民随手关门</td>
										</tr>
										<tr>
											<td>2、在主要道路上添加提示牌</td>
										</tr>
										<tr>
											<td>3、在小区大屏宣传高空抛物的危害</td>
										</tr>
									</table>-->
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="divright fr">
					<div class="top">
						<div class="wrapper">
							<div class="titleTop">绩效评价</div>
							<div class="dataTables_wrapper scroll active" role="grid">
								<table class="table-striped table-condensed pre-scrollable divrightTable">
									<tbody>
									<tr class="firstTr">
										<td>责任单位</td>
										<td>收到事件数</td>
										<td>办结事件数</td>
										<td>平均处理时长</td>
										<td>事件办结率</td>
									</tr>
									<tr id="wuye">
										<td>物业</td>
										<td>100</td>
										<td>100 </td>
										<td>100</td>
										<td>99.5% </td>
									</tr>
									<tr id="wulianwang">
										<td>物联网设备商</td>
										<td>305</td>
										<td>305 </td>
										<td>305</td>
										<td>98% </td>
									</tr>
									<tr id="sanfang">
										<td>第三方厂商</td>
										<td>78</td>
										<td>78 </td>
										<td>78</td>
										<td>98% </td>
									</tr>
									<tr id="juwei">
										<td>居委</td>
										<td>132</td>
										<td>132 </td>
										<td>132</td>
										<td>98.56% </td>
									</tr>
									</tbody>
								</table>
							</div>
						</div>
						
					</div>
					<div class="bottom">
						<div class="titleTop titleBottom">设备故障分析</div>
						<div id="pieChart"></div>
						<div id="barChart"></div>
					</div>
				</div>
				
				
				
			</div>
			
			<div class="modal-bg">
				<div class="modalDiv">
					<div class="modalClose"><i class="iconfont icon-guanbi"></i></div>
					<div class="modalBottom">
						<div class="modalTable">
							<div class="dataTables_wrapper scroll active" role="grid">
								<table class="table-striped table-condensed pre-scrollable divrightTable">
									<tbody id="modalTable">
									<tr class="firstTr">
										<td>责任单位</td>
										<td>收到事件</td>
										<td>办结事件</td>
										<td>平均处理时长</td>
										<td>事件办结率</td>
									</tr>
									<tr>
										<td>XX科技</td>
										<td>100</td>
										<td>99 </td>
										<td>20分钟</td>
										<td>99% </td>
									</tr>
									<tr>
										<td>XX科技</td>
										<td>100</td>
										<td>99 </td>
										<td>20分钟</td>
										<td>99% </td>
									</tr>
									<tr>
										<td>XX科技</td>
										<td>100</td>
										<td>99 </td>
										<td>20分钟</td>
										<td>99% </td>
									</tr>
									<tr>
										<td>XX科技</td>
										<td>100</td>
										<td>99 </td>
										<td>20分钟</td>
										<td>99% </td>
									</tr>
									<tr>
										<td>XX科技</td>
										<td>100</td>
										<td>99 </td>
										<td>20分钟</td>
										<td>99% </td>
									</tr>
									<tr>
										<td>XX科技</td>
										<td>100</td>
										<td>99 </td>
										<td>20分钟</td>
										<td>99% </td>
									</tr>
									<tr>
										<td>XX科技</td>
										<td>100</td>
										<td>99 </td>
										<td>20分钟</td>
										<td>99% </td>
									</tr>
									<tr>
										<td>XX科技</td>
										<td>100</td>
										<td>99 </td>
										<td>20分钟</td>
										<td>99% </td>
									</tr>
									<tr>
										<td>XX科技</td>
										<td>100</td>
										<td>99 </td>
										<td>20分钟</td>
										<td>99% </td>
									</tr>
									<tr>
										<td>XX科技</td>
										<td>100</td>
										<td>99 </td>
										<td>20分钟</td>
										<td>99% </td>
									</tr>
									<tr>
										<td>XX科技</td>
										<td>100</td>
										<td>99 </td>
										<td>20分钟</td>
										<td>99% </td>
									</tr>
									<tr>
										<td>XX科技</td>
										<td>100</td>
										<td>99 </td>
										<td>20分钟</td>
										<td>99% </td>
									</tr>
									<tr>
										<td>XX科技</td>
										<td>100</td>
										<td>99 </td>
										<td>20分钟</td>
										<td>99% </td>
									</tr>
									</tbody>
								</table>
							</div>
						</div>
						<!--<div class="modalChart">
							<div id="modalChart" style="width:360px;height: 360px;"></div>
						</div>-->
					</div>
				</div>
			</div>
		</div>
	</body>
	<script src="js/jquery-1.9.1.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/common.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/echarts.min.js" type="text/javascript" charset="utf-8"></script>
	<!--<script src="js/swiper-3.4.2.jquery.min.js" type="text/javascript" charset="utf-8"></script>-->
	<script type="text/javascript">
		$(document).ready(function(){
//			var mySwiper = new Swiper ('.swiper-container', {
//			    direction: 'horizontal',
//			    loop: true,
//			    // 如果需要前进后退按钮
//			    navigation: {
//			      nextEl: '.swiper-button-next',
//			      prevEl: '.swiper-button-prev',
//			    }
//			 })        
			 //左侧下方列表
			function list(){
				var _tr=$(".divrightTable tr");
				//点击列表
				_tr.each(function(i,index){
					$(this).click(function(e){
						e.stopPropagation()
						$(this).addClass("flag").siblings().removeClass("flag");
                        modalShow(this.id)
					})
				});
				$("body").click(function(){
					_tr.removeClass("flag")
				})

			}
			list();
//


            $('#menu').hover(function() {
                $("#sub-menu").css('display', 'block');
            }, function() {
                $("#sub-menu").css('display', 'none');
            });
            $("#sub-menu").hover(function() {
                $(this).css('display', 'block');;
            }, function() {
                $(this).css('display', 'none');
            });
			var iconRes = '<i class="iconfont icon-leikexueyiqix"></i>&nbsp;'
			$('#clickPart2').click(function(){
			    $('#part1').hide();
                $('#part2').show();
                $('#part3').hide();
                $('#menu').removeClass('light');
                $('#clickPart2').addClass('light');
                $('#clickPart3').removeClass('light');
				var title = iconRes + '事件列表';
                var title1 = '<div class="title2">更新事件：2018/04/11&nbsp;10:35:42</div>';
                $('.cityHead .divleft .leftTop .title1').html('');
                $('.cityHead .divleft .leftTop .title2').remove();
                $('.cityHead .divleft .leftTop .title1').html(title).after(title1);
			})
            $('#clickPart3').click(function(){
                $('#part1').hide();
                $('#part2').hide();
                $('#part3').show();
                $('#menu').removeClass('light');
                $('#clickPart2').removeClass('light');
                $('#clickPart3').addClass('light');
                var title = iconRes + '成效分析';
                $('.cityHead .divleft .leftTop .title1').html('');
                $('.cityHead .divleft .leftTop .title2').remove();
                $('.cityHead .divleft .leftTop .title1').html(title);
            })



			$('.modalClose').click(function () {
				$('.modal-bg').hide();
            })


				var firstTr = '<tr class="firstTr"><td>责任单位</td><td>收到事件</td><td>办结事件</td><td>平均处理时长</td><td>事件办结率</td></tr>';
			//弹出弹框

			function modalShow(name){
			    if(name == ''){
			        return false;
				}
                $('.modal-bg').show();
                var res;
                var data;
                switch(name){
					case 'wuye':data = wuye;break;
                    case 'juwei':data = juwei;break;
                    case 'sanfang':data = sanfang;break;
                    case 'wulianwang':data = wulianwang;break;
				}
                for(i=0;i<data.length;i++){
                    res = res + '<tr><td>'+ data[i].supply_name+'</td><td>'+ data[i].supply_getnum+'</td><td>'+ data[i].supply_completenum+' </td><td>'+ data[i].supply_avgtime+'</td><td>'+ data[i].supply_avg+'</td></tr>'
				}
				res = firstTr + res;
                $('#modalTable').html('');
                $('#modalTable').html(res);
			}

//			function swiper(){
//				var list=$(".swiper-container .swiper-slide li");
//					list.each(function(i,index){
//						$(this).click(function(){
//							if($(this).hasClass("active")){
//								$(this).removeClass("active")
//							}else{
//								$(this).addClass("active").siblings().removeClass("active")
//							}
//						})
//					})
//				
//			}
//			swiper();

            var safeMiddle = [{"count_type3_name":"高空抛物","count_type2_data":"100","count_type2_name":"老人走失","count_type4_data":"34","count_type1_data":"180","count_maintime":"中午11:30-14:30，晚上21:30-凌晨1:30","count_type1_name":"消防占道","count_type5_name":"消防栓倾斜","count_type4_name":"可疑人员追踪","count_type5_data":"15","count_cause":"1、违章搭建、违停占用、擅自堆放、居民自身消防安全意识欠缺、物业管理单位措施不足；\n2、社会老龄化问题加剧，患老年痴呆症人数陡升，子女外出分身乏术难以兼顾；\n3、随着经济社会的发展，城市化水平加剧，部分民众公德意识却并未跟上；","count_measures":"1、全面开展防火巡查、严格落实法律责任、加强消防通道管理、积极开展宣传演练；\n2、在老人身上放置定位器、家人及社区给予更多关爱；\n3、建侦查队，装摄像头、设立重罚制度；","count_type3_data":"60"}];
            var environmentMiddle = [{"count_type1_data":"400","count_type3_name":"地下车库积水","count_maintime":"中午10:00-14:30，晚上20:30-凌晨3:30","count_type1_name":"垃圾桶满溢","count_type2_data":"350","count_type4_name":"景观水源污染","count_cause":"1、装修队任意倾倒建筑垃圾；\n2、市民公德意识有待加强；","count_measures":"1、重点区域增加视频垃圾堆放监测，出量垃圾长时间堆放自动上报信息；\n2、积极开展宣传劝导、增派相关巡查；","count_type3_data":"35","count_type2_name":"垃圾桶倾倒","count_type4_data":"12"}];
            var spaceMiddle =[{"count_type3_name":"门禁开启","count_type2_data":"65","count_type2_name":"烟雾报警","count_type1_data":"70","count_maintime":"中午8:00-14:00，晚上16:30-凌晨2:00","count_type1_name":"电梯故障","count_cause":"1、检修不到位、人为原因、垃圾卡门；\n2、防火意识淡薄、电源接触不良；","count_measures":"1、加强检修以及加强检修频次、定期专人查看清理轿厢缝隙、加强宣传正确使用电梯；\n2、加强宣传提升安全意识、加强宣传防火小常识、定期进行排查；","count_type3_data":"45"}];

            var line1 = [1, 5, 29, 5, 12, 8, 8,10, 5, 9,2,12];
            var bar1 = [29, 20, 2, 13, 15, 20, 9,7, 5, 5, 8,20];
			var bar2 = [parseInt(safeMiddle[0].count_type1_data),parseInt(safeMiddle[0].count_type2_data),parseInt(safeMiddle[0].count_type3_data),parseInt(safeMiddle[0].count_type4_data),parseInt(safeMiddle[0].count_type5_data)];
            var xLabelBar = [safeMiddle[0].count_type1_name,safeMiddle[0].count_type2_name,safeMiddle[0].count_type3_name,safeMiddle[0].count_type4_name,safeMiddle[0].count_type5_name];
            var pie = [{value: 180,name: '空间'}, {value: 797,name: '环境'}, {value: 389,name: '安全'}];
            var percent = '28.5%';

            $('#safe').click(function(){
                changePic("1");
                $('#sub-menu').hide();
                titleChange('安全类','2018年安全问题分析','2018年安全问题占比');
                line1 = [1, 5, 29, 5, 12, 8, 8,10, 5, 9,2,5];
                bar1 = [29, 20, 2, 13, 15, 20, 9,7, 5, 5, 8,9];
                bar2 = [parseInt(safeMiddle[0].count_type1_data),parseInt(safeMiddle[0].count_type2_data),parseInt(safeMiddle[0].count_type3_data),parseInt(safeMiddle[0].count_type4_data),parseInt(safeMiddle[0].count_type5_data)];
                xLabelBar = [safeMiddle[0].count_type1_name,safeMiddle[0].count_type2_name,safeMiddle[0].count_type3_name,safeMiddle[0].count_type4_name,safeMiddle[0].count_type5_name];
                percent = '28.5%';
                chart1();
                chart2();
                chart3();
            });
            $('#environment').click(function(){
                changePic("2");
                $('#sub-menu').hide();
                titleChange('环境类','2018年环境问题分析','2018年环境问题占比');
                line1 = [1, 5, 26, 5, 11, 4, 8,14, 5, 7,1,10];
                bar1 = [25, 20, 2, 15, 15, 27, 9,9, 5, 9, 8,21];
                bar2 = [parseInt(environmentMiddle[0].count_type1_data),parseInt(environmentMiddle[0].count_type2_data),parseInt(environmentMiddle[0].count_type3_data),parseInt(environmentMiddle[0].count_type4_data)];
                xLabelBar = [environmentMiddle[0].count_type1_name,environmentMiddle[0].count_type2_name,environmentMiddle[0].count_type3_name,environmentMiddle[0].count_type4_name];
                percent = '58.3%';
                chart1();
                chart2();
                chart3();
            });
            $('#space').click(function () {
                changePic("3");
                $('#sub-menu').hide();
                titleChange('空间类','2018年空间问题分析','2018年空间问题占比');
                line1 = [1, 7, 19, 5, 12, 8, 16,10, 5, 9,12,18];
                bar1 = [29, 20, 2, 23, 15, 20, 9,7, 5, 15, 8,19];
                bar2 = [parseInt(spaceMiddle[0].count_type1_data),parseInt(spaceMiddle[0].count_type2_data),parseInt(spaceMiddle[0].count_type3_data)];
                xLabelBar = [spaceMiddle[0].count_type1_name,spaceMiddle[0].count_type2_name,spaceMiddle[0].count_type3_name];
                percent = '13.2%';
                chart1();
                chart2();
            })

			function titleChange(title,title1,title2){
                $('#part1').show();
                $('#part2').hide();
                $('#part3').hide();
                $('#menu').addClass('light');
                $('#clickPart2').removeClass('light');
                $('#clickPart3').removeClass('light');
                var iconRes = '<i class="iconfont icon-leikexueyiqix"></i>&nbsp;'
				var iconRes1 = '<i class="iconfont icon-leikexueyiqix"></i>&nbsp;';
                var iconRes2 = '<i class="iconfont icon-leikexueyiqix"></i>&nbsp;';
                var title = iconRes + title;
                var title1 = iconRes1 + title1;
                var title2 = iconRes1 + title2;
                $('.cityHead .divleft .leftTop .title1').html('');
                $('.cityHead .divleft .leftTop .title2').remove();
                $('.cityHead .divleft .leftTop .title1').html(title);
                $('.cityHead .divleft .rightTop .bottom .titleTop1').html('');
                $('.cityHead .divleft .rightTop .bottom .titleTop1').html(title1);
                $('.cityHead .divleft .rightTop .charts .title').html('');
                $('.cityHead .divleft .rightTop .charts .title').html(title2);
			}

			var safeLeft = [{"manage_rate":"93%","manage_equipment_name":"烟感","manage_count":"362个"},{"manage_rate":"100%","manage_equipment_name":"消防栓","manage_count":"7个"},{"manage_rate":"100%","manage_equipment_name":"火灾灭弧","manage_count":"3个"},{"manage_rate":"99%","manage_equipment_name":"地磁","manage_count":"108个"},{"manage_rate":"96%","manage_equipment_name":"人车摄像头","manage_count":"25个"},{"manage_rate":"100%","manage_equipment_name":"红外感应","manage_count":"30个"},{"manage_rate":"97%","manage_equipment_name":"井盖","manage_count":"44个"},{"manage_rate":"100%%","manage_equipment_name":"高空抛物","manage_count":"2个"}];
			var environmentLeft = [{"manage_rate":"99%","manage_equipment_name":"水质","manage_count":"5个"},{"manage_rate":"89%","manage_equipment_name":"垃圾桶","manage_count":"38个"},{"manage_rate":"100%","manage_equipment_name":"智能水箱","manage_count":"5个"},{"manage_rate":"100%","manage_equipment_name":"环境监测","manage_count":"1个"},{"manage_rate":"96%","manage_equipment_name":"地下车库积水","manage_count":"50个"},{"manage_rate":"100%","manage_equipment_name":"河道水浊度","manage_count":"30个"},{"manage_rate":"95%","manage_equipment_name":"污水房液位","manage_count":"30个"},{"manage_rate":"97%","manage_equipment_name":"树木","manage_count":"100个"}];
			var spaceLeft = [{"manage_rate":"89%","manage_equipment_name":"门磁","manage_count":"83个"},{"manage_rate":"80%","manage_equipment_name":"电梯","manage_count":"15个"},{"manage_rate":"96%","manage_equipment_name":"人车摄像头","manage_count":"25个"},{"manage_rate":"93%","manage_equipment_name":"烟感","manage_count":"362个"}];

			var wuye = [{"supply_name":"房屋管理维修部","supply_avg":"67%","supply_getnum":"3","supply_avgtime":"1天","supply_completenum":"2"},{"supply_name":"经营开发部","supply_avg":"100%","supply_getnum":"2","supply_avgtime":"2小时","supply_completenum":"2"},{"supply_name":"保安部","supply_avg":"89%","supply_getnum":"9","supply_avgtime":"1小时","supply_completenum":"8"},{"supply_name":"环境管理部","supply_avg":"50%","supply_getnum":"2","supply_avgtime":"3天","supply_completenum":"1"},{"supply_name":"设备工程部","supply_avg":"90%","supply_getnum":"29","supply_avgtime":"5小时","supply_completenum":"26"}];
			var juwei = [{"supply_name":"计生部","supply_avg":"0%","supply_getnum":"2","supply_avgtime":"1小时","supply_completenum":"2"},{"supply_name":"社保协管部","supply_avg":"0%","supply_getnum":"2","supply_avgtime":"1小时","supply_completenum":"2"},{"supply_name":"低保协管部","supply_avg":"50%","supply_getnum":"1","supply_avgtime":"1小时","supply_completenum":"0"},{"supply_name":"卫生部","supply_avg":"75%","supply_getnum":"5","supply_avgtime":"6小时","supply_completenum":"4"},{"supply_name":"治安部","supply_avg":"100%","supply_getnum":"9","supply_avgtime":"1小时","supply_completenum":"8"}];
			var sanfang = [{"supply_name":"光弘路灯","supply_avg":"100%","supply_getnum":"2","supply_avgtime":"5小时","supply_completenum":"2"},{"supply_name":"金顺井盖","supply_avg":"100%","supply_getnum":"2","supply_avgtime":"1小时","supply_completenum":"2"},{"supply_name":"申野消防器材","supply_avg":"100%","supply_getnum":"1","supply_avgtime":"1小时","supply_completenum":"0"},{"supply_name":"三菱电梯","supply_avg":"0%","supply_getnum":"2","supply_avgtime":"6小时","supply_completenum":"2"},{"supply_name":"承华门禁","supply_avg":"100%","supply_getnum":"6","supply_avgtime":"1小时","supply_completenum":"4"},{"supply_name":"铁军智能闸机","supply_avg":"33%","supply_getnum":"1","supply_avgtime":"2天","supply_completenum":"1"}];
			var wulianwang = [{"supply_name":"莘野","supply_avg":"100%","supply_getnum":"2","supply_avgtime":"5小时","supply_completenum":"2"},{"supply_name":"深圳源流","supply_avg":"100%","supply_getnum":"2","supply_avgtime":"1小时","supply_completenum":"2"},{"supply_name":"欣诺","supply_avg":"0%","supply_getnum":"1","supply_avgtime":"1小时","supply_completenum":"0"},{"supply_name":"奕行","supply_avg":"0%","supply_getnum":"2","supply_avgtime":"1小时","supply_completenum":"2"},{"supply_name":"铂珏","supply_avg":"100%","supply_getnum":"6","supply_avgtime":"1小时","supply_completenum":"4"},{"supply_name":"麦信","supply_avg":"50%","supply_getnum":"1","supply_avgtime":"2小时","supply_completenum":"1"}];

			var picTextLeft = ['pic1','pic2','pic3','pic4','pic5','pic6','pic7','pic8'];
            var picTextMiddle = ['pic9','pic10','pic11'];
            var textMiddle = ['text9','text10','text11'];
            var tablePic = ['tablePic1','tablePic2','tablePic3','tablePic4','tablePic5','tablePic6','tablePic7','tablePic8'];
            var partPicSafe = ['iconfont icon-yanjizaoju','iconfont icon-jingwuicon_svg-','iconfont icon-miehuoqiextinguisher','iconfont icon-dengjuanzhuang','iconfont icon-shexiangtou','iconfont icon-leidatance','iconfont icon-manhole-cover','iconfont icon-shiping-xue'];
            var partPicEnvi = ['iconfont icon-shidu','iconfont icon-lajitong','iconfont icon-xiaofangshuixiangshuichi','iconfont icon-zhongxinhuanjing','iconfont icon-icon-humidity','iconfont icon-qiaolianggongcheng','iconfont icon-shuiya','iconfont icon-gushu'];
            var partPicSpace = ['iconfont icon-menchuangmenchuangwujinanzhuang','iconfont icon-dianti','iconfont icon-shexiangtou','iconfont icon-yanjizaoju'];

            var partPicSafe3 = ['iconfont icon-jingwuicon_svg-','iconfont icon-laoren','iconfont icon-gaokongpaowu'];
            var partPicEnvi3 = ['iconfont icon-lajitongmanyi','iconfont icon-lajiqingdao','iconfont icon-icon-humidity'];
            var partPicSpace3 = ['iconfont icon-dianti','iconfont icon-yanjizaoju','iconfont icon-menjin'];

			function changePic(type){
			    if(type == '1'){
                    $('.cutPic').show();
			        for(i=0;i<8;i++){
                        changeTextPic(picTextLeft[i],partPicSafe[i],tablePic[i],safeLeft[i]);
					}
                    changeTextPicMiddle(safeMiddle,partPicSafe3);
				}else if(type == '2'){
                    $('.cutPic').show();
                    for(i=0;i<8;i++){
                        changeTextPic(picTextLeft[i],partPicEnvi[i],tablePic[i],environmentLeft[i]);
                    }
                    changeTextPicMiddle(environmentMiddle,partPicEnvi3);
				}else if(type == '3'){
                    $('.cutPic').hide();
                    for(i=0;i<4;i++){
                        changeTextPic(picTextLeft[i],partPicSpace[i],tablePic[i],spaceLeft[i]);
                    }
                    changeTextPicMiddle(spaceMiddle,partPicSpace3);
				}
			}
            changePic('1');

			function changeTextPic(id,picClass,table,text){
                $('#'+id).removeClass().addClass(picClass);
                $('#'+table+' tr td:eq(0)').html(text.manage_equipment_name);
                $('#'+table+' tr td:eq(1)').html(text.manage_count);
                $('#'+table+' tr td:eq(2)').html('设备正常率');
                $('#'+table+' tr td:eq(3)').html(text.manage_rate);
			}
            function changeTextPicMiddle(text,pic){
			    for(i=0;i<3;i++){
			        $('#'+picTextMiddle[i]).removeClass().addClass(pic[i]);
				}
                $('#'+textMiddle[0]).html(text[0].count_type1_name);
                $('#'+textMiddle[1]).html(text[0].count_type2_name);
                $('#'+textMiddle[2]).html(text[0].count_type3_name);
                var time = text[0].count_maintime.split('，');
                $('#time1').html(time[0]);
                $('#time2').html(time[1]);
                var cause = text[0].count_cause.split('；');
                $('#cause').html('')
                for(j=0;j<cause.length;j++){
                    var res = "<tr><td id=cause"+j+">"+cause[j]+"</td></tr>";
                    $('#cause').append(res);
				}
                var measure = text[0].count_measures.split('；');
                $('#measure').html('')
                for(k=0;k<measure.length;k++){
                    var res = "<tr><td id=cause"+k+">"+measure[k]+"</td></tr>";
                    $('#measure').append(res);
                }

            }

//中间 折线与柱状图
			function chart1(){
                var myLinebarChart = echarts.init(document.getElementById('linebarChart'));

                // 折线 与 柱状图
                linebarOption = {
                    grid: {
                        //show:true,
                        left: '5%',
                        top: '20%',
                        bottom: '5%',
                        containLabel: true
                    },
                    toolbox: {
                        "show": false,
                        feature: {
                            saveAsImage: {}
                        }
                    },
                    tooltip: {
                        show: true,
                        trigger: 'item',
                        formatter: "{b} {c}"
                    },
                    xAxis: [{
                        type: 'category',
                        boundaryGap: true, //false时X轴从0开始
                        axisLine: {

                            lineStyle: {
                                // color: '#B1B1B3',
                                color: 'rgba(212,212,228,0.3)'
                            },
                            onZero: true
                        },
                        axisLabel:{
                        textStyle:{
                        color:"#eee"
                    }
                },
                        // x周坐标 名称
                         data: ['0:00', '2:00', '4:00', '6:00', '8:00', '10:00','12:00','14:00','16:00','18:00','20:00','22:00']
                    }],
                    yAxis: [
                        {
                            type: 'value',
                            axisLine: {
                                show:false,
                                lineStyle: {
                                    color: 'rgba(212,212,228,0.3)'
                                },
                                onZero: true
                            },
                        }
                    ],
                    series: [
                        {
                            name: '统计',
                            smooth: true, // 平滑
                            type: 'line',
                            lineStyle: {  // 线性 的样式
                                normal: {
                                    color: '#3a9c98',
                                    opacity: 10,
                                    ZIndex: 9
                                }
                            },
                            areaStyle: {  // 线形图 曲线下面颜色
                                normal: {
                                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                                        offset: 0,
                                        color: '#48B794'
                                    }, {
                                        offset: 1,
                                        color: 'rgba(7, 20, 31, 0)'
                                    }])
                                }
                            },
                            symbolSize: 0,
                            data: line1,
                        },

                        {
                            name: '',
                            smooth: true,
                            type: 'bar',
                            symbolSize: 8,
                            barWidth: '30%',
                            itemStyle:{  // 柱状图 颜色 设置
                                normal: {
                                    barBorderRadius: 2,
                                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                                        offset: 0,
                                        color: '#FFD700'
                                    }, {
                                        offset: 1,
                                        color: '#FF7300'
                                    }])
                                }
                            },
                            data: bar1
                        },
                    ]
                }
                myLinebarChart.clear();
                myLinebarChart.setOption(linebarOption, true);
			}
            chart1();


            // zhongbu 柱状图
			function chart2(){
			    var myBarChart1Chart = echarts.init(document.getElementById('barChart1'));
                // 柱状图
                var barChart1Option = {
                    grid: {
                        //show:true,
                        left: '10%',
                        right: '0%',
                        top: '10%',
                        bottom:'10%',
                        containLabel: true
                    },
                    toolbox: {
                        "show": false,
                        feature: {
                            saveAsImage: {}
                        }
                    },
                    tooltip: {
                        show: true,
                        trigger: 'item',
                        formatter: "{c}"
                    },
                    xAxis: {
                        type: 'category',
                        boundaryGap: ['10%'], //false时X轴从0开始
                        axisLine: {
                            show: false,
                            lineStyle: {
                                color: 'rgba(212,212,228,0.3)'
                            },
                            onZero: true
                        },
                        axisLabel:{
                            interval:0,
                            rotate:20,//倾斜度 -90 至 90 默认为0
//                            margin:2,
                            textStyle:{
//                                fontWeight:"bolder",
                                color:"#eee"
                            }
                        },
                        // x周坐标 名称
                         data: xLabelBar
                    },
                    yAxis: {
                        type: 'value',
                        axisLine: {
                            show: false,
                            lineStyle: {
                                color: 'rgba(212,212,228,0.3)'
                            },
                            onZero: true
                        },
                    },
                    series: [
                        {
                            name: '',
                            smooth: true,
                            type: 'bar',
                            symbolSize: 8,
                            barWidth: '40%',
                            itemStyle: {
                                normal: {
                                    barBorderRadius: 2,
                                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                                        offset: 0,
                                        color: '#3de6e6'
                                    }, {
                                        offset: 1,
                                        color: '#65d4b5'
                                    }])
                                }
                            },
                            data: bar2
                        },
                    ]
                }
                myBarChart1Chart.clear();
                myBarChart1Chart.setOption(barChart1Option, true);

                // zhongbu 饼图
                var myPieChart1Chart = echarts.init(document.getElementById('pieChart1'));


                var legeData = [{
                    name: '空间',
                    textStyle: {
                        color: '#fff',
                        fontSize: 14
                    }
                },
                    {
                        name: '环境',
                        textStyle: {
                            color: '#fff',
                            fontSize: 14
                        }
                    },
                    {
                        name: '安全',
                        textStyle: {
                            color: '#fff',
                            fontSize: 14
                        }
                    }];

                myPieChart1Chart.clear();
                myPieChart1Chart.setOption( pieChart(percent, pie, legeData), true);
			}
            chart2();




// 右边区域 饼图
			function chart3(){
			    var myPieChartChart = echarts.init(document.getElementById('pieChart'));
                var pie1 = [{value: 350,name: '电量'}, {value: 280,name: '信号' }, {value: 165,name: '误报'},{value: 380,name: '其他'}];

                pieChartOption = {
                    title: {
                        text: '故障分析',
                        x: 'center',
                        y: 'center',
                        textStyle: {
                            fontWeight: 'normal',
                            fontSize: 15,
                            color: '#fff'
                        }
                    },
                    tooltip: {
                        show: true,
                        trigger: 'item',
                        formatter: "{b}: {c} ({d}%)"
                    },
                    grid: {
                        left: '10%',
                        top: '25%',
                        bottom: '5%',
                        containLabel: true
                    },
                    legend: {
                        orient: 'vertical',
                        top: '45%',
                        right: '15%',
                        data: [
                            {
                                name: '电量',
                                textStyle: {
                                    color: '#fff',
                                    fontSize: 14
                                }
                            },
                            {
                                name: '信号',
                                textStyle: {
                                    color: '#fff',
                                    fontSize: 14
                                }
                            },
                            {
                                name: '误报',
                                textStyle: {
                                    color: '#fff',
                                    fontSize: 14
                                }
                            },
                            {
                                name: '其他',
                                textStyle: {
                                    color: '#fff',
                                    fontSize: 14
                                }
                            }
                        ]
                    },
                    series: [{
                        type: 'pie',
                        selectedMode: 'single',
                        radius: ['55%', '75%'],
                        color: ['#FF1C51','#65d4b5','#FFA800','#2EA6E2'],

                        label: {
                            normal: {
                                show: false,
                                textStyle: {
                                    color: '#fff',
                                    fontWeight: 'bold',
                                    fontSize: 14
                                }
                            }
                        },
                        labelLine: {
                            normal: {
                                show: false
                            }
                        },
                        data: pie1
                    }]
                };
                myPieChartChart.setOption(pieChartOption, true);
			}
            chart3();

            //右边 底部柱状图
            var myBarChartChart = echarts.init(document.getElementById('barChart'));

            myBarChartChart.setOption(getBarChart(), true);

            // 成效 分析 柱状图
            var myPartChartChart = echarts.init(document.getElementById('partChart'));

            PartChartOption = {
                toolbox: {
                    "show": false,
                    feature: {
                        saveAsImage: {}
                    }
                },
                grid: {
                    //show:true,
                    left: '5%',
					right:'5%',
                    top: '10%',
                    bottom: '5%',
                    containLabel: true
                },
                tooltip: {
                    show: true,
                    trigger: 'item',
                    formatter: "{b}: {c}"
                },
                xAxis: {
                    splitLine:{show: false},//去除网格线
                    type: 'category',
                    boundaryGap: ['10%'], //false时X轴从0开始
                    axisLine: {
                        show:false,
                        lineStyle: {
                            color: '#fff'
                        },
                        onZero: true
                    },
                    axisLabel: {
                        show:true,
                        lineStyle: {
                            color: '#fff'
                        }
                    },
                    // x周坐标 名称
                    data: ['2017', '2018']
                },
                yAxis: {
                    splitLine:{show: false},//去除网格线
                    type: 'value',
                    axisLine: {
                        show: false,
                        lineStyle: {
                            color: 'rgba(212,212,228,0)'
                        },
                        onZero: true
                    },
                },
                series: [
                    {
                        name: '2017',
                        smooth: true,
                        type: 'bar',
                        symbolSize: 8,
                        barWidth: '40%',
                        itemStyle: {
                            normal: {
                                barBorderRadius: 2,
                                color: function (params){
                                    var colorList = [
                                        ['#F68A04','#FCD4A0'],
                                        ['#7CECC0','#4C9FE1']
                                    ];
                                    return new echarts.graphic.LinearGradient(0, 0, 0, 1,
                                        [
                                            {offset: 0, color: colorList[params.dataIndex][0]},
                                            {offset: 1, color: colorList[params.dataIndex][1]}
                                        ]);
                                }
                            }
                        },
                        data: [30,6]
                    }
                ]
            }
            myPartChartChart.setOption(PartChartOption, true);


            // 成效分析 三柱状图
            var myPartOneCharts = echarts.init(document.getElementById('partOneCharts'));

            partOneCharts = {
                tooltip : {
                    trigger: 'axis',
                    axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                        type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                    }
                },
                // legend: {
                //     data:['安全','环境','空间']
                // },
                grid: {
                    left: '5%',
                    right: '5%',
                    bottom: '5%',
                    top: '10%',
                    containLabel: true
                },
                xAxis : [
                    {
                        type : 'category',
                        // data : ['周一','周二','周三','周四','周五','周六','周日'],
                        axisLine: {
                            lineStyle: {
                                color: '#2c324d'
                            },
                            onZero: true
                        },
						data:['安全','环境','空间'],
                    }
                ],
                yAxis : [
                    {
                        type : 'value',
                        axisLine: {
                            lineStyle: {
                                color: '#2c324d'
                            },
                            show: false,
                            onZero: true
                        }
                    }
                ],
                series : [
                    {
                        name:'2017',
                        type:'bar',
                        barWidth:30,
                        data:[1500, 450,130],
                        itemStyle: {
                            normal: {
                                barBorderRadius: 2,
                                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                                    offset: 0,
                                    color: '#7FF1BD'
                                }, {
                                    offset: 1,
                                    color: 'rgba(57,125,162,.9)'
                                }])
                            }
                        }
                    },
                    {
                        name:'2018',
                        type:'bar',
                        barWidth:30,
                        data:[300, 150,30],
                        itemStyle: {
                            normal: {
                                barBorderRadius: 2,
                                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                                    offset: 0,
                                    color: '#F48802'
                                }, {
                                    offset: 1,
                                    color: 'rgba(171,129,79,.9)'
                                }])
                            }
                        }
                    },
                    /*{
                        name:'空间',
                        type:'bar',
                        barWidth:10,
                        data:[130, 30],
                        itemStyle: {
                            normal: {
                                barBorderRadius: 2,
                                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                                    offset: 0,
                                    color: '#d9f323'
                                }, {
                                    offset: 1,
                                    color: '#bfb14c'
                                }])
                            }
                        }
                    }*/
                ]
            };
            myPartOneCharts.setOption(partOneCharts, true);

            // 大事记 弹出信息 饼图
            /*var myModalChartChart = echarts.init(document.getElementById('modalChart'));
            var data1 = [{
                value: 45,
                name: 'XXX科技'
            }, {
                value: 58,
                name: 'XX科技'
            }, {
                value: 87,
                name: 'X科技'
            }];
            var legeData1 = [{
                name: 'XXX科技',
                textStyle: {
                    color: '#fff',
                    fontSize: 14
                }
            },
                {
                    name: 'XX科技',
                    textStyle: {
                        color: '#fff',
                        fontSize: 14
                    }
                },
                {
                    name: 'X科技',
                    textStyle: {
                        color: '#fff',
                        fontSize: 14
                    }
                }];

            myModalChartChart.setOption(pieChart('33.5%', data1, legeData1), true);*/


            // 饼图 通用模型
            function pieChart(title, data, legeData){
                return  pieChart1Option = {
                    title: {
                        text: title,
                        x: 'center',
                        y: 'center',
                        textStyle: {
                            fontWeight: 'normal',
                            fontSize: 17,
                            color: '#fff'
                        }
                    },
                    tooltip: {
                        show: true,
                        trigger: 'item',
                        formatter: "{b}: {c}"
                    },
                    legend: {
                        orient: 'vertical',
                        top: '45%',
                        left: '75%',
                        data: legeData
                    },
                    series: [{
                        type: 'pie',
                        selectedMode: 'single',
                        radius: ['35%', '50%'],
                        color: ['#FF1C51','#FFA800','#2EA6E2'],

                        label: {
                            normal: {
                                show: false,
                                textStyle: {
                                    color: '#fff',
                                    fontWeight: 'bold',
                                    fontSize: 14
                                }
                            }
                        },
                        labelLine: {
                            normal: {
                                show: false
                            }
                        },
                        data: data
                    }]
                };
            }

            // 柱状图，通用模型
            function getBarChart(){
                return barChart1Option = {
                    grid: {
                        //show:true,
                        left: '10%',
                        top: '10%',
                        bottom: '5%',
                        containLabel: true
                    },
                    tooltip: {
                        show: true,
                        trigger: 'item',
                        formatter: "{b} {c}"
                    },
                    toolbox: {
                        "show": false,
                        feature: {
                            saveAsImage: {}
                        }
                    },
                    xAxis: {
                        type: 'category',
                        boundaryGap: ['10%'], //false时X轴从0开始
                        axisLine: {
                            lineStyle: {
                                show: false,
                                color: '#2c324d'
                            },
                            onZero: true
                        },
						axisLabel:{
                            textStyle:{
                                color:'#eee',
							}
						},
                        // x周坐标 名称
                         data: ['电量', '信号', '误报', '其他']

                    },
                    yAxis: {
                        type: 'value',
                        axisLine: {
                            lineStyle: {
                                show: false,
                                color: '#2c324d'
                            },
                            onZero: true
                        },
                    },
                    series: [
                        {
                            name: '设备故障分析',
                            smooth: true,
                            type: 'bar',
                            symbolSize: 8,
                            barWidth: '30%',
                            itemStyle: {
                                normal: {
                                    barBorderRadius: 2,
                                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                                        offset: 0,
                                        color: '#74F8AB'
                                    }, {
                                        offset: 1,
                                        color:'rgba(30,172,185,0.3)'
                                    }])
                                }
                            },
                            data: [350, 280, 165, 380]
                        },
                    ]
                }
            }



		})
	</script>
</html>
